# SPDX-License-Identifier: GPL-2.0-only
# Copyright (C) 2018-2022 Oplus. All rights reserved.

# Qcom platform feature

#ifdef OPLUS_FEATURE_PMIC_MONITOR
obj-$(CONFIG_OPLUS_FEATURE_PMIC_MONITOR) += qcom/qcom_pmic_monitor/
#endif /* OPLUS_FEATURE_PMIC_MONITOR */

#ifdef OPLUS_FEATURE_FORCE_SHUTDOWN
obj-$(CONFIG_OPLUS_FEATURE_FORCE_SHUTDOWN) += qcom/force_shutdown/
#endif /* OPLUS_FEATURE_FORCE_SHUTDOWN */

#ifdef OPLUS_FEATURE_QCOM_PMICWD
obj-$(CONFIG_OPLUS_FEATURE_QCOM_PMICWD) += qcom/qcom_pmicwd/
#endif /* OPLUS_FEATURE_QCOM_PMICWD */

#ifdef OPLUS_FEATURE_QCOM_WATCHDOG
obj-$(CONFIG_OPLUS_FEATURE_QCOM_WATCHDOG) += qcom/qcom_watchdog/
#endif /* OPLUS_FEATURE_QCOM_WATCHDOG */

#ifdef OPLUS_FEATURE_DUMP_DEVICE_INFO
obj-$(CONFIG_OPLUS_FEATURE_DUMP_DEVICE_INFO)	+=  qcom/dump_device_info/
#endif /* OPLUS_FEATURE_DUMP_DEVICE_INFO */

#ifdef OPLUS_FEATURE_DUMP_REASON
obj-$(CONFIG_OPLUS_FEATURE_DUMP_REASON)	+=  qcom/dump_reason/
#endif /* OPLUS_FEATURE_DUMP_REASON */

#ifdef OPLUS_FEATURE_FULLDUMP_BACK
obj-$(CONFIG_OPLUS_FEATURE_FULLDUMP_BACK) += qcom/oplus_ordump/
#endif /* OPLUS_FEATURE_FULLDUMP_BACK */


# MTK platform feature

#ifdef OPLUS_FEATURE_MTK_FORCE_SHUTDOWN
obj-$(CONFIG_OPLUS_FEATURE_MTK_FORCE_SHUTDOWN)	+=  mtk/mtk_shutdown_reboot/
#endif /* OPLUS_FEATURE_MTK_FORCE_SHUTDOWN */

#ifdef OPLUS_FEATURE_PMIC_MONITOR_MTK
obj-$(CONFIG_OPLUS_FEATURE_PMIC_MONITOR_MTK)	+=  mtk/oplus_pmic_monitor_mtk/
#endif /* OPLUS_FEATURE_PMIC_MONITOR_MTK */

# common feature
#ifdef OPLUS_FEATURE_SHUTDOWN_DETECT
obj-$(CONFIG_OPLUS_FEATURE_SHUTDOWN_DETECT) += common/shutdown_detect/
#endif /* OPLUS_FEATURE_SHUTDOWN_DETECT */

#ifdef OPLUS_FEATURE_HUNG_TASK_ENHANCE
obj-$(CONFIG_OPLUS_FEATURE_HUNG_TASK_ENHANCE) += common/hung_task_enhance/
#endif /* OPLUS_FEATURE_HUNG_TASK_ENHANCE */

#ifdef OPLUS_FEATURE_SAUPWK
obj-$(CONFIG_OPLUS_FEATURE_SAUPWK) += common/oplus_saupwk/
#endif /* OPLUS_FEATURE_SAUPWK */

#ifdef OPLUS_FEATURE_THEIA
obj-$(CONFIG_OPLUS_FEATURE_THEIA) += common/theia/
#endif /* OPLUS_FEATURE_THEIA */

#ifdef OPLUS_FEATURE_INIT_WATCHDOG
obj-$(CONFIG_OPLUS_FEATURE_INIT_WATCHDOG) += common/init_watchdog/
#endif /* OPLUS_FEATURE_INIT_WATCHDOG */

#ifdef OPLUS_FEATURE_KEYEVENT_HANDLER
obj-$(CONFIG_OPLUS_FEATURE_KEYEVENT_HANDLER) += common/keyevent_handler/
#endif /* OPLUS_FEATURE_KEYEVENT_HANDLER */

#ifdef OPLUS_FEATURE_COMBKEY_MONITOR
obj-$(CONFIG_OPLUS_FEATURE_COMBKEY_MONITOR) += common/combkey_monitor/
#endif /* OPLUS_FEATURE_COMBKEY_MONITOR */

#ifdef OPLUS_FEATURE_FAULT_INJECT
obj-$(CONFIG_OPLUS_FEATURE_FAULT_INJECT)     += fault_inject/
#endif /*CONFIG_OPLUS_FEATURE_FAULT_INJECT*/

#ifdef CONFIG_OPLUS_FEATURE_FDLEAK_CHECK
obj-$(CONFIG_OPLUS_FEATURE_FDLEAK_CHECK)     += common/oplus_fdleak/
#endif /*CONFIG_OPLUS_FEATURE_FDLEAK_CHECK*/

#ifdef CONFIG_OPLUS_BSP_DFR_USERSPACE_BACKTRACE
obj-$(CONFIG_OPLUS_BSP_DFR_USERSPACE_BACKTRACE)     += common/oplus_bsp_dfr_ubt/
#endif /* CONFIG_OPLUS_BSP_DFR_USERSPACE_BACKTRACE */

#ifdef OPLUS_FEATURE_LAST_BOOT_REASON
obj-$(CONFIG_OPLUS_FEATURE_LAST_BOOT_REASON) += common/last_boot_reason/
#endif /*OPLUS_FEATURE_LAST_BOOT_REASON*/

